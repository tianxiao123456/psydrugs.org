---
layout: page
title: å¤„æ–¹ç”Ÿæˆå™¨
description: åŒ»é™¢å¤„æ–¹å•ç”Ÿæˆå·¥å…·
date: 2025-12-22
updated: 2025-12-22
comments: false
---

<style>
  .warning-box {
    padding: 1rem;
    margin-bottom: 1rem;
    background: rgba(255, 152, 0, 0.1);
    border-left: 4px solid #ff9800;
    border-radius: 4px;
  }

  .pg-wrap {
    max-width: 1200px;
    margin: 1.5rem auto;
    padding: 1rem;
    background: var(--card);
    border-radius: 16px;
    border: 1px solid var(--block-border);
  }

  .pg-wrap * {
    box-sizing: border-box;
  }

  .pg-layout {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 1rem;
    align-items: start;
  }

  .paper-shell {
    background: var(--block);
    border: 1px solid var(--block-border);
    border-radius: 12px;
    padding: 1rem;
    overflow: auto;
  }

  .paper {
    width: 210mm;
    height: 148mm;
    background: #fff;
    color: #000;
    padding: 5mm 10mm;
    position: relative;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    user-select: none;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    font-family: "SimSun", "Songti SC", serif;
  }

  .controls {
    background: var(--block);
    border: 1px solid var(--block-border);
    border-radius: 12px;
    padding: 0.9rem;
    position: sticky;
    top: 80px;
    max-height: calc(100vh - 120px);
    overflow-y: auto;
    font-size: 14px;
  }

  .controls-header {
    margin: 0 0 8px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--block-border);
    color: var(--text-p0);
    cursor: move;
    user-select: none;
  }

  .control-group {
    margin-bottom: 12px;
    border-bottom: 1px dashed var(--block-border);
    padding-bottom: 10px;
  }

  .control-group label {
    display: block;
    margin-bottom: 5px;
    color: var(--text-p0);
    font-weight: 600;
  }

  .control-group input[type="text"] {
    width: 100%;
    padding: 6px;
    border: 1px solid var(--block-border);
    border-radius: 6px;
    background: var(--card);
    color: var(--text-p0);
  }

  .control-group input[type="range"] {
    width: 100%;
  }

  .btn {
    width: 100%;
    padding: 9px 10px;
    border: none;
    border-radius: 8px;
    color: #fff;
    cursor: pointer;
    font-weight: 600;
    margin-top: 6px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .btn-green {
    background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
    margin-top: 0;
  }

  .btn-blue {
    background: linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%);
  }

  .btn-red {
    background: linear-gradient(135deg, #cb2d3e 0%, #ef473a 100%);
    font-size: 12px;
    padding: 6px;
  }

  .section-title {
    font-size: 12px;
    color: var(--text-p2);
    margin-bottom: 6px;
    font-weight: 700;
  }

  .hidden {
    display: none;
  }

  .barcode-wrapper {
    position: absolute;
    top: 5mm;
    left: 10mm;
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    z-index: 20;
    background: #fff;
    padding: 2px;
    border: 1px dashed transparent;
    transition: border 0.2s;
  }

  .barcode-wrapper:hover {
    border-color: #ccc;
  }

  .barcode-bars {
    display: flex;
    height: 30px;
    align-items: flex-start;
  }

  .bar {
    background-color: #000;
    display: inline-block;
    height: 100%;
  }

  .difang-box {
    position: absolute;
    top: 5mm;
    right: 2mm;
    border: 1px solid #000;
    padding: 2px 10px;
    font-size: 16px;
    letter-spacing: 5px;
    z-index: 20;
  }

  .header-section {
    margin-bottom: 2px;
    z-index: 10;
    width: 100%;
  }

  .title-row {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    margin-bottom: 5px;
  }

  .hospital-input {
    grid-column: 2;
    font-size: 22px;
    border: none;
    outline: none;
    text-align: center;
    width: 350px;
    font-family: inherit;
    background: transparent;
    letter-spacing: 1px;
  }

  .doc-type {
    grid-column: 3;
    justify-self: start;
    margin-left: 40px;
    font-size: 22px;
    letter-spacing: 2px;
    white-space: nowrap;
  }

  .grid-row {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    font-size: 13px;
    margin-bottom: 2px;
  }

  .grid-left {
    justify-self: start;
  }

  .grid-center {
    justify-self: center;
    text-align: center;
  }

  .grid-right {
    justify-self: end;
    text-align: right;
  }

  .sub-input {
    border: none;
    outline: none;
    text-align: left;
    font-family: inherit;
    font-size: 13px;
    background: transparent;
    min-width: 60px;
    padding-left: 5px;
  }

  .info-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 2px;
    margin-bottom: 2px;
    font-size: 16px;
    border-bottom: 2px solid #000;
  }

  .ib-left,
  .ib-center,
  .ib-right {
    display: flex;
    align-items: center;
  }

  .ib-left {
    gap: 20px;
    width: 30%;
  }

  .ib-center {
    justify-content: center;
    width: 30%;
  }

  .ib-right {
    width: 40%;
    justify-content: flex-end;
  }

  .info-item {
    display: flex;
    align-items: center;
    white-space: nowrap;
  }

  .data-input {
    border: none;
    text-align: left;
    font-family: inherit;
    outline: none;
    padding-left: 2px;
    background: transparent;
    min-width: 40px;
    font-size: 16px;
  }

  .main-table-container {
    display: flex;
    flex-grow: 1;
    width: 100%;
    border: 2px solid #000;
    border-top: none;
    position: relative;
    margin-bottom: 5px;
  }

  .vertical-text {
    position: absolute;
    right: -25px;
    top: 50%;
    transform: translateY(-50%);
    writing-mode: vertical-rl;
    font-size: 13px;
    letter-spacing: 4px;
    font-weight: bold;
  }

  .left-col {
    width: 25%;
    border-right: 1px solid #000;
    display: flex;
    flex-direction: column;
  }

  .diag-wrapper {
    padding: 5px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  .diag-label {
    font-weight: bold;
    font-size: 16px;
    margin-bottom: 5px;
  }

  .diag-content {
    flex-grow: 1;
    width: 100%;
    border: none;
    outline: none;
    resize: none;
    font-family: inherit;
    font-size: 15px;
    line-height: 1.5;
    background: transparent;
  }

  .note-section {
    border-top: 1px solid #000;
    padding: 15px 5px;
    font-size: 15px;
    font-weight: bold;
    line-height: 1.4;
  }

  .right-col {
    width: 75%;
    padding: 5px 10px;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  .rp-symbol {
    position: absolute;
    left: 10px;
    top: 5px;
    font-size: 48px;
    font-family: "Times New Roman", serif;
  }

  .text-content {
    width: 100%;
    flex-grow: 1;
    border: none;
    outline: none;
    resize: none;
    font-family: inherit;
    font-size: 16px;
    line-height: 1.8;
    padding-left: 10px;
    padding-top: 60px;
    background: transparent;
  }

  .rx-footer-row {
    display: flex;
    justify-content: flex-end;
    gap: 20px;
    margin-top: 5px;
    padding-top: 5px;
    font-size: 14px;
  }

  .rx-sign-item {
    display: flex;
    align-items: center;
  }

  .rx-input {
    border: none;
    border-bottom: 1px solid #000;
    text-align: center;
    outline: none;
    font-family: "Kaishu", "SimSun", serif;
    background: transparent;
    width: 80px;
    margin-left: 5px;
  }

  .footer {
    display: flex;
    justify-content: space-between;
    margin-top: 2px;
    font-size: 13px;
  }

  .sign-input {
    border: none;
    border-bottom: 1px solid #000;
    width: 60px;
    text-align: center;
    outline: none;
    font-family: "Kaishu", "SimSun", serif;
    background: transparent;
  }



  @media (max-width: 1220px) {
    .pg-layout {
      grid-template-columns: 1fr;
    }

    .controls {
      position: relative;
      top: 0;
      max-height: none;
    }
  }

  @media print {
    @page {
      size: A5 landscape;
      margin: 0;
    }

    html,
    body {
      margin: 0 !important;
      padding: 0 !important;
      width: 100%;
      height: 100%;
      background: #fff !important;
      overflow: hidden !important;
    }

    body * {
      visibility: hidden !important;
    }

    #paperArea,
    #paperArea * {
      visibility: visible !important;
    }

    #paperArea {
      position: fixed !important;
      left: 0 !important;
      top: 0 !important;
      margin: 0 !important;
      box-shadow: none !important;
      width: 210mm !important;
      height: 148mm !important;
      border-radius: 0 !important;
    }


  }
</style>

<div class="warning-box">
  âš ï¸ <strong>é‡è¦æç¤ºï¼š</strong>æœ¬å·¥å…·ä»…ä¾›å­¦ä¹ å‚è€ƒä½¿ç”¨ï¼Œç”Ÿæˆçš„å¤„æ–¹å•ä¸å…·æœ‰æ³•å¾‹æ•ˆåŠ›ï¼Œä¸å¯ç”¨äºå®é™…å°±åŒ»ã€‚
</div>

<div class="pg-wrap">
  <div class="pg-layout">
    <div class="paper-shell">
      <div class="paper-shell-title" style="margin-bottom:0.75rem;color:var(--text-p1);font-size:0.95rem;">ğŸ§¾
        å¤„æ–¹çº¸ç¼–è¾‘åŒºï¼ˆç‚¹å‡»æ¡ç å¯éšæœºæ¢å·ï¼‰</div>
      <div class="paper" id="paperArea">
        <div class="barcode-wrapper" onclick="refreshAllRandom()" title="ç‚¹å‡»åˆ·æ–°">
          <div class="barcode-bars" id="barcodeBars"></div>
        </div>

        <div class="difang-box">åº• æ–¹</div>

        <div class="header-section">
          <div class="title-row">
            <input class="hospital-input" id="headerHospitalName" value="XXå¸‚ä¸­å¿ƒåŒ»é™¢" oninput="syncHospitalName('header')">
            <div class="doc-type">å¤„ æ–¹ ç¬º</div>
          </div>

          <div class="grid-row">
            <div class="grid-left"></div>
            <div class="grid-center">å®šç‚¹åŒ»ç–—æœºæ„ç¼–ç ï¼š<input class="sub-input" id="medCodeInput" value="H11010100001"
                style="width: 110px;"></div>
            <div class="grid-right">å°±è¯Šç±»å‹ï¼š<input class="sub-input" value="æ™®é€šé—¨è¯Š"></div>
          </div>

          <div class="grid-row">
            <div class="grid-left"></div>
            <div class="grid-center">å¤„æ–¹ç¼–å·ï¼š<input class="sub-input" id="prescNumInput" value="2024010100582"
                style="width: 140px;"></div>
            <div class="grid-right">è´¹åˆ«ï¼š<input class="sub-input" value="è‡ªè´¹"></div>
          </div>

          <div class="grid-row">
            <div class="grid-left">ç§‘å®¤ï¼š<input class="sub-input" value="å†…ç§‘" style="width: 80px;"></div>
            <div class="grid-center">è¯æˆ¿ï¼š<input class="sub-input" value="é—¨è¯Šè¯æˆ¿" style="width: 80px;"></div>
            <div class="grid-right">èº«ä»½ï¼š<input class="sub-input" value="ä¸€èˆ¬äººå‘˜"></div>
          </div>
        </div>

        <div class="info-bar">
          <div class="ib-left">
            <div class="info-item">å§“åï¼š<input class="data-input" style="width: 70px;"></div>
            <div class="info-item">æ€§åˆ«ï¼š<input class="data-input" style="width: 30px;"></div>
          </div>
          <div class="ib-center">
            <div class="info-item">å¹´é¾„ï¼š<input class="data-input" style="width: 50px;"></div>
          </div>
          <div class="ib-right">
            <div class="info-item" style="width: 100%;">å•ä½ï¼š<input class="data-input" style="width: 100%;"></div>
          </div>
        </div>

        <div class="main-table-container">

          <div class="left-col">
            <div class="diag-wrapper">
              <div class="diag-label">ä¸´åºŠè¯Šæ–­ï¼š</div>
              <textarea class="diag-content"></textarea>
            </div>
            <div class="note-section">è¯´æ˜ï¼šè¯ç‰©åç§°å‰æ ‡æ³¨æœ‰â–²è¡¨ç¤ºéœ€çš®è¯•è¯å“ã€‚</div>
          </div>

          <div class="right-col">
            <div class="rp-symbol">â„</div>
            <textarea class="text-content"></textarea>
            <div class="rx-footer-row">
              <div class="rx-sign-item">åŒ»å¸ˆç­¾å­—ï¼š<input class="rx-input" style="width: 80px;"></div>
              <div class="rx-sign-item">æ—¥æœŸï¼š<input class="rx-input" id="dateInput" style="width: 100px;"></div>
            </div>
          </div>
        </div>

        <div class="footer">
          <div>å®¡æ ¸ <input class="sign-input"></div>
          <div>è°ƒé… <input class="sign-input"></div>
          <div>æ ¸å¯¹ <input class="sign-input"></div>
          <div>å‘è¯ <input class="sign-input"></div>
          <div>é‡‘é¢ <input class="sign-input" style="width: 60px;"></div>
        </div>


      </div>
    </div>

    <div class="controls" id="draggableControls">
      <div class="control-group">
        <button class="btn" style="background: linear-gradient(135deg, #434343 0%, #000000 100%); margin-top:0;"
          onclick="refreshAllRandom()">ğŸ”„ æ¢å·ï¼ˆéšæœºæ—¥æœŸï¼‰</button>
      </div>
      <button class="btn" onclick="window.print()">ğŸ–¨ï¸ æ‰“å°å¤„æ–¹</button>
    </div>
  </div>
</div>

<script>
  function generateBarcode() {
    const container = document.getElementById('barcodeBars');
    container.innerHTML = '';
    for (let index = 0; index < 35; index++) {
      const bar = document.createElement('div');
      bar.className = 'bar';
      bar.style.width = (Math.floor(Math.random() * 4) + 1) + 'px';
      bar.style.marginRight = (Math.floor(Math.random() * 4) + 1) + 'px';
      container.appendChild(bar);
    }
  }

  function generateMedCode() {
    let code = 'H';
    for (let index = 0; index < 11; index++) {
      code += Math.floor(Math.random() * 10);
    }
    document.getElementById('medCodeInput').value = code;
  }

  function generatePrescNum() {
    const now = new Date();
    const daysBack = Math.floor(Math.random() * 90);
    const randomDate = new Date(now.getTime() - (daysBack * 24 * 60 * 60 * 1000));
    const year = randomDate.getFullYear();
    const month = String(randomDate.getMonth() + 1).padStart(2, '0');
    const day = String(randomDate.getDate()).padStart(2, '0');
    let randomPart = '';
    for (let index = 0; index < 5; index++) {
      randomPart += Math.floor(Math.random() * 10);
    }

    const dateStr = `${year}-${month}-${day}`;
    document.getElementById('prescNumInput').value = `${year}${month}${day}${randomPart}`;
    document.getElementById('dateInput').value = dateStr;
  }

  function refreshAllRandom() {
    generateBarcode();
    generateMedCode();
    generatePrescNum();
  }



  document.addEventListener('DOMContentLoaded', function () {
    refreshAllRandom();
  });
</script>